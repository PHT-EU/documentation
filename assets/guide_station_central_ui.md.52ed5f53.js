import{_ as e,o as a,c as t,f as n}from"./app.bca6134f.js";var i="/documentation/assets/providers_overview.4863f7c8.png",o="/documentation/assets/provider_add.aa26e91b.png",s="/documentation/assets/keycloak_1.e119bbd1.png",r="/documentation/assets/keycloak_2.548d2c70.png",l="/documentation/assets/keycloak_3.5809455c.png",c="/documentation/assets/keycloak_4.11caa480.png",d="/documentation/assets/pk_station.30d6aa77.png",p="/documentation/assets/harbor_station.4f8b449e.png";const C=JSON.parse('{"title":"Configuration","description":"","frontmatter":{},"headers":[{"level":2,"title":"Add a realm","slug":"add-a-realm"},{"level":3,"title":"Configuring an OIDC provider","slug":"configuring-an-oidc-provider"},{"level":3,"title":"Registering/Updating a public key","slug":"registering-updating-a-public-key"},{"level":3,"title":"Updating the Station ID","slug":"updating-the-station-id"},{"level":3,"title":"Setting/Updating harbor username and password","slug":"setting-updating-harbor-username-and-password"},{"level":2,"title":"Review","slug":"review"},{"level":3,"title":"Proposal","slug":"proposal"},{"level":3,"title":"Train","slug":"train"}],"relativePath":"guide/station/central_ui.md"}'),h={name:"guide/station/central_ui.md"},g=n('<h1 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-hidden="true">#</a></h1><p>In order to manage the stations settings the user needs to be assigned the <strong>Station Authority</strong> role.</p><div class="warning custom-block"><p class="custom-block-title">IMPORTANT</p><p>When changing the settings of your station in the central UI you need to restart your local station.</p></div><h2 id="add-a-realm" tabindex="-1">Add a realm <a class="header-anchor" href="#add-a-realm" aria-hidden="true">#</a></h2><p>In order to set a OIDC provider and manage your stations you need to get an organization. Please contact us, such we can provide you a realm in which you can manage all your stations, users and identity providers.</p><h3 id="configuring-an-oidc-provider" tabindex="-1">Configuring an OIDC provider <a class="header-anchor" href="#configuring-an-oidc-provider" aria-hidden="true">#</a></h3><p>To allow each participant to control their own distribution of roles, the central UI allows the user to configure an OIDC provider which can be used to authenticate users associated with their realm. OIDC providers can be configured in the admin panel of the central UI under <strong>Auth -&gt; Realms</strong> in the providers tab. <a href="../../images/ui_images/providers_overview.png"><img src="'+i+'" alt="image"></a></p><p>Clicking on the <strong>Add</strong> button on the left will allow you to configure a new OIDC provider.</p><h4 id="keycloak-settings" tabindex="-1">Keycloak settings <a class="header-anchor" href="#keycloak-settings" aria-hidden="true">#</a></h4><p><a href="../../images/ui_images/provider_add.png"><img src="'+o+`" alt="image"></a></p><p>Any OpenID-provider can be configured to be selected in the login screen to authenticate users belonging to your realm. If you dont know how to set up a client in Keycloak, follow the steps below configuration.</p><p>The following settings are used in the User Interface with Keycloak as identity provider:</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">Name: &lt;Display name in UI&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">Client-ID: &lt;name of client specified in keycloak&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">Client Secret: &lt;secret of client if set to confidential&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">Token</span></span>
<span class="line"><span style="color:#A6ACCD;">Host: &lt;URL to realm&gt; (e.g. https://DOMAIN.de/auth/realms/PHT_DEV/)</span></span>
<span class="line"><span style="color:#A6ACCD;">Path: protocol/openid-connect/token</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">Authorization</span></span>
<span class="line"><span style="color:#A6ACCD;">Host: Auto from Token</span></span>
<span class="line"><span style="color:#A6ACCD;">Path: protocol/openid-connect/auth</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h5 id="create-a-realm-in-keycloak" tabindex="-1">Create a Realm in Keycloak <a class="header-anchor" href="#create-a-realm-in-keycloak" aria-hidden="true">#</a></h5><ol><li>Create a realm - in this example: <code>PHT_DEV</code></li><li>Create a new client within this realm - in this example: <code>pht-staging</code><a href="../../images/keycloak_images/keycloak_1.png"><img src="`+s+'" alt="image"></a></li><li>Set the access type to confidential and a root URL and the valid redirect URIs <a href="../../images/keycloak_images/keycloak_2.png"><img src="'+r+'" alt="image"></a></li><li>Copy your client secret and use it for the configuration in the UI <a href="../../images/keycloak_images/keycloak_3.png"><img src="'+l+'" alt="image"></a></li><li>The following two roles must be created in the identity provider <a href="../../images/keycloak_images/keycloak_4.png"><img src="'+c+'" alt="image"></a></li></ol><h3 id="registering-updating-a-public-key" tabindex="-1">Registering/Updating a public key <a class="header-anchor" href="#registering-updating-a-public-key" aria-hidden="true">#</a></h3><ol><li>Within the admin area (top left, next to Home), you need to select <strong>Auth -&gt; Realms</strong> within the left navigation.</li><li>You can see a list of stations. Choose the station you want and click on the blue &quot;List&quot;-Symbol.</li><li>In <em>Station</em> the public key can be entered into the field <em>PublicKey</em>.</li></ol><h3 id="updating-the-station-id" tabindex="-1">Updating the Station ID <a class="header-anchor" href="#updating-the-station-id" aria-hidden="true">#</a></h3><ol><li>Follow the steps 1 and 2 of &quot;Registering/Updating a public key&quot;</li><li>On the same page you can find <strong>SecureID</strong>, which you can adapt. <a href="../../images/ui_images/pk_station.png"><img src="'+d+'" alt="image"></a></li></ol><h3 id="setting-updating-harbor-username-and-password" tabindex="-1">Setting/Updating harbor username and password <a class="header-anchor" href="#setting-updating-harbor-username-and-password" aria-hidden="true">#</a></h3><ol><li>Within the admin area (top left), you need select <strong>Realms</strong> within the left navigation.</li><li>Select the Station you want to edit</li><li>In <em>Harbor</em> the credentials, project name and path can be modified - webhooks for API communication can be tested. <a href="../../images/ui_images/harbor_station.png"><img src="'+p+'" alt="image"></a></li></ol><h2 id="review" tabindex="-1">Review <a class="header-anchor" href="#review" aria-hidden="true">#</a></h2><p>Before accepting a proposal or a train the requested data and the code contained in a train need to be reviewed. While removing network access and the built-in security features should be sufficient to prevent the transfer of data, the code still needs to be reviewed to prevent any unwanted behaviour.</p><h3 id="proposal" tabindex="-1">Proposal <a class="header-anchor" href="#proposal" aria-hidden="true">#</a></h3><p>Proposals are the top level organizational unit of the PHT system. Proposals describe the goal of an analysis, the requested data and an estimation of the potential risk of participation. When the description of the proposal meets the local requirements of your station, a user with the role of <strong>Station Authority</strong> can accept the proposal, otherwise the proposal is rejected (optionally with comments for improvement).</p><p>Joining a proposal means that users of other stations also joined in the proposal can select your station as a participant in the trains they create for this proposal.</p><h3 id="train" tabindex="-1">Train <a class="header-anchor" href="#train" aria-hidden="true">#</a></h3><p>Trains contain analysis code that will be executed on the data requested in the proposal. The code is user submitted, so while the security protocol prevents the transfer of any unencrypted data via docker images and restricted network access, prevents direct transfer of any data, the code still needs to be reviewed in order to prevent any kind of malicious behaviour.</p>',28),u=[g];function m(f,y,_,v,k,b){return a(),t("div",null,u)}var A=e(h,[["render",m]]);export{C as __pageData,A as default};
